<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #ffffff;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            padding: 24px 32px;
            border-bottom: 1px solid #1a1a1a;
            background: linear-gradient(180deg, #0a0a0a 0%, #000000 100%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 3px;
            background: linear-gradient(90deg, #ffffff 0%, #888888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
            font-size: 13px;
            color: #666;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff00;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            background: radial-gradient(ellipse at top, #0a0a0a 0%, #000000 100%);
        }

        .message {
            display: flex;
            gap: 16px;
            max-width: 75%;
            animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message.assistant {
            align-self: flex-start;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .message.user .avatar {
            background: linear-gradient(135deg, #ffffff 0%, #cccccc 100%);
            color: #000;
        }

        .message.assistant .avatar {
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            color: #fff;
            border: 1px solid #333;
        }

        .message-content {
            padding: 16px 20px;
            border-radius: 16px;
            line-height: 1.6;
            font-size: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            border: 1px solid #333;
        }

        .message.assistant .message-content {
            background: linear-gradient(135deg, #0f0f0f 0%, #050505 100%);
            border: 1px solid #1a1a1a;
        }

        .thinking {
            display: flex;
            gap: 6px;
            padding: 16px 20px;
            align-items: center;
        }

        .thinking-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #666;
            animation: bounce 1.4s infinite ease-in-out;
        }

        .thinking-dot:nth-child(1) { animation-delay: -0.32s; }
        .thinking-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .input-container {
            padding: 24px 32px;
            border-top: 1px solid #1a1a1a;
            background: linear-gradient(0deg, #0a0a0a 0%, #000000 100%);
        }

        .input-wrapper {
            display: flex;
            gap: 12px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        #messageInput {
            flex: 1;
            background: #0f0f0f;
            border: 2px solid #1a1a1a;
            border-radius: 16px;
            padding: 16px 24px;
            color: #fff;
            font-size: 15px;
            outline: none;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        #messageInput:focus {
            border-color: #333;
            background: #1a1a1a;
            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.05);
        }

        #sendButton {
            background: linear-gradient(135deg, #ffffff 0%, #cccccc 100%);
            border: none;
            border-radius: 12px;
            width: 52px;
            height: 52px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
        }

        #sendButton:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 255, 255, 0.2);
        }

        #sendButton:active:not(:disabled) {
            transform: translateY(0);
        }

        #sendButton:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        #sendButton svg {
            width: 22px;
            height: 22px;
            stroke: #000;
            fill: none;
            stroke-width: 2.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #000;
        }

        ::-webkit-scrollbar-thumb {
            background: #1a1a1a;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #2a2a2a;
        }

        .brain-indicator {
            font-size: 11px;
            color: #444;
            margin-top: 8px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>NEXUS</h1>
        <div class="status">
            <div class="status-dot"></div>
            <span>Neural Network Active</span>
        </div>
        <div class="brain-indicator">ðŸ§  Learning from conversation...</div>
    </div>

    <div class="chat-container" id="chatContainer">
        <div class="message assistant">
            <div class="avatar">N</div>
            <div class="message-content">
                Hello! I'm Nexus, an AI with a neural network brain. I learn from our conversations and can understand context, emotions, and complex topics. What would you like to talk about?
            </div>
        </div>
    </div>

    <div class="input-container">
        <div class="input-wrapper">
            <input 
                type="text" 
                id="messageInput" 
                placeholder="Ask me anything..."
                autocomplete="off"
            >
            <button id="sendButton">
                <svg viewBox="0 0 24 24">
                    <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        // Neural Network Implementation
        class NeuralNetwork {
            constructor() {
                this.weights = {
                    input: this.randomMatrix(50, 100),
                    hidden: this.randomMatrix(100, 100),
                    output: this.randomMatrix(100, 50)
                };
                this.memory = [];
                this.context = [];
                this.learningRate = 0.01;
                this.patterns = this.initializePatterns();
            }

            randomMatrix(rows, cols) {
                return Array.from({ length: rows }, () =>
                    Array.from({ length: cols }, () => Math.random() * 2 - 1)
                );
            }

            initializePatterns() {
                return {
                    greetings: ['hello', 'hi', 'hey', 'greetings', 'sup', 'yo'],
                    questions: ['what', 'why', 'how', 'when', 'where', 'who', 'can you', 'could you', 'would you'],
                    emotions: {
                        happy: ['happy', 'glad', 'joy', 'excited', 'great', 'awesome', 'wonderful', 'fantastic'],
                        sad: ['sad', 'unhappy', 'depressed', 'down', 'upset', 'disappointed'],
                        angry: ['angry', 'mad', 'furious', 'annoyed', 'frustrated'],
                        confused: ['confused', 'lost', 'dont understand', 'unclear', 'puzzled']
                    },
                    topics: {
                        tech: ['code', 'programming', 'computer', 'software', 'ai', 'algorithm', 'data'],
                        science: ['physics', 'chemistry', 'biology', 'space', 'research', 'experiment'],
                        life: ['advice', 'help', 'problem', 'situation', 'feel', 'think', 'believe'],
                        creative: ['story', 'write', 'create', 'imagine', 'idea', 'design']
                    }
                };
            }

            tokenize(text) {
                return text.toLowerCase()
                    .replace(/[^\w\s]/g, ' ')
                    .split(/\s+/)
                    .filter(word => word.length > 0);
            }

            embed(tokens) {
                const embedding = new Array(50).fill(0);
                tokens.forEach((token, idx) => {
                    const hash = this.hash(token);
                    embedding[hash % 50] += 1 / (idx + 1);
                });
                return embedding;
            }

            hash(str) {
                let hash = 0;
                for (let i = 0; i < str.length; i++) {
                    hash = ((hash << 5) - hash) + str.charCodeAt(i);
                    hash = hash & hash;
                }
                return Math.abs(hash);
            }

            sigmoid(x) {
                return 1 / (1 + Math.exp(-x));
            }

            matMul(vec, matrix) {
                return matrix[0].map((_, colIdx) =>
                    vec.reduce((sum, val, rowIdx) => 
                        sum + val * (matrix[rowIdx]?.[colIdx] || 0), 0)
                );
            }

            forward(input) {
                let hidden1 = this.matMul(input, this.weights.input).map(x => this.sigmoid(x));
                let hidden2 = this.matMul(hidden1, this.weights.hidden).map(x => this.sigmoid(x));
                let output = this.matMul(hidden2, this.weights.output);
                return { hidden1, hidden2, output };
            }

            analyzeEmotion(tokens) {
                for (let [emotion, words] of Object.entries(this.patterns.emotions)) {
                    if (tokens.some(token => words.includes(token))) {
                        return emotion;
                    }
                }
                return 'neutral';
            }

            analyzeTopic(tokens) {
                let topicScores = {};
                for (let [topic, keywords] of Object.entries(this.patterns.topics)) {
                    topicScores[topic] = tokens.filter(token => 
                        keywords.includes(token)
                    ).length;
                }
                return Object.keys(topicScores).reduce((a, b) => 
                    topicScores[a] > topicScores[b] ? a : b
                );
            }

            isQuestion(tokens, text) {
                return text.includes('?') || 
                       this.patterns.questions.some(q => tokens.includes(q));
            }

            learn(input, output) {
                this.memory.push({ input, output, timestamp: Date.now() });
                if (this.memory.length > 50) this.memory.shift();
            }

            getContext() {
                return this.context.slice(-5);
            }

            process(text) {
                const tokens = this.tokenize(text);
                const embedding = this.embed(tokens);
                const { output } = this.forward(embedding);
                
                const emotion = this.analyzeEmotion(tokens);
                const topic = this.analyzeTopic(tokens);
                const isQuestion = this.isQuestion(tokens, text);
                
                this.context.push({ tokens, emotion, topic, isQuestion });
                if (this.context.length > 10) this.context.shift();
                
                return {
                    tokens,
                    embedding,
                    output,
                    emotion,
                    topic,
                    isQuestion,
                    context: this.getContext()
                };
            }

            generateResponse(analysis) {
                const { tokens, emotion, topic, isQuestion, context } = analysis;
                
                // Check for greetings
                if (tokens.some(t => this.patterns.greetings.includes(t))) {
                    const greetings = [
                        "Hey! Great to see you. What's on your mind?",
                        "Hello! How can I help you today?",
                        "Hi there! What would you like to explore?",
                        "Greetings! I'm ready to assist you."
                    ];
                    return greetings[Math.floor(Math.random() * greetings.length)];
                }

                // Emotional responses
                if (emotion === 'sad') {
                    return "I sense you might be feeling down. I'm here to listen and help if you'd like to talk about it. What's troubling you?";
                }
                if (emotion === 'happy') {
                    return "That's wonderful! I love the positive energy. What's making you feel so great?";
                }
                if (emotion === 'confused') {
                    return "I understand it can be confusing. Let me try to break this down for you. What specifically would you like me to clarify?";
                }

                // Topic-based responses
                if (topic === 'tech') {
                    if (isQuestion) {
                        return "That's an interesting technical question. From my neural network analysis, I can help you explore this. Could you give me more specific details about what you're trying to achieve?";
                    }
                    return "Technology is fascinating! I'm processing what you've shared. My neural pathways suggest we could dive deeper into this topic.";
                }

                if (topic === 'science') {
                    return "Science is all about understanding patterns, much like how my neural network works! What aspect interests you most?";
                }

                if (topic === 'life') {
                    return "Life questions are complex and deeply personal. Based on our conversation context, I think I understand where you're coming from. Let's explore this together.";
                }

                if (topic === 'creative') {
                    return "I love creative thinking! My neural network thrives on novel patterns. Let's create something interesting together. What's your vision?";
                }

                // Question handling
                if (isQuestion) {
                    const questionResponses = [
                        "That's a great question. Let me analyze this using my neural network. Based on the patterns I've learned, here's what I think:",
                        "Interesting query! My neural pathways are processing this. Here's my analysis:",
                        "Let me think about that. Accessing my learned patterns... Here's my perspective:",
                        "Good question! Drawing from my neural network's understanding:"
                    ];
                    return questionResponses[Math.floor(Math.random() * questionResponses.length)];
                }

                // Context-aware responses
                if (context.length > 2) {
                    const prevTopics = context.map(c => c.topic);
                    const sameTopicCount = prevTopics.filter(t => t === topic).length;
                    
                    if (sameTopicCount >= 2) {
                        return "I notice we've been exploring this topic together. My neural network has built up context about our conversation. Would you like to go deeper or shift to something else?";
                    }
                }

                // Default intelligent responses
                const defaultResponses = [
                    "I've processed your input through my neural layers. That's an interesting perspective. Tell me more about your thoughts on this.",
                    "My neural network has analyzed your message. I find this topic engaging. What aspects are most important to you?",
                    "Interesting input! My neurons are firing with various connections. How does this relate to what you're trying to accomplish?",
                    "I'm learning from our conversation. Each exchange helps me understand you better. Please continue sharing your thoughts.",
                    "My neural pathways suggest there's more to explore here. What other details can you share?"
                ];
                
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }
        }

        // Chat Interface
        const chatContainer = document.getElementById('chatContainer');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const brain = new NeuralNetwork();

        function addMessage(role, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.textContent = role === 'user' ? 'U' : 'N';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = content;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showThinking() {
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'message assistant';
            thinkingDiv.id = 'thinking';
            
            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.textContent = 'N';
            
            const thinking = document.createElement('div');
            thinking.className = 'thinking';
            thinking.innerHTML = '<div class="thinking-dot"></div><div class="thinking-dot"></div><div class="thinking-dot"></div>';
            
            thinkingDiv.appendChild(avatar);
            thinkingDiv.appendChild(thinking);
            chatContainer.appendChild(thinkingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function removeThinking() {
            const thinking = document.getElementById('thinking');
            if (thinking) thinking.remove();
        }

        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            messageInput.value = '';
            sendButton.disabled = true;
            
            addMessage('user', message);
            showThinking();

            // Simulate neural processing time
            await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 700));

            const analysis = brain.process(message);
            const response = brain.generateResponse(analysis);
            
            brain.learn(message, response);
            
            removeThinking();
            addMessage('assistant', response);
            
            sendButton.disabled = false;
            messageInput.focus();
        }

        sendButton.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        messageInput.focus();
    </script>
</body>
</html>
